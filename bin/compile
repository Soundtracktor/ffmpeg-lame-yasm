#!/bin/sh

# begin yasm
wget --quiet https://www.tortall.net/projects/yasm/releases/yasm-1.3.0.tar.gz
tar -xf yasm-1.3.0.tar.gz
cd yasm-1.3.0
./configure --prefix="$1" --disable-debug >/dev/null 2>&1
make install >/dev/null 2>&1

PATH="$1/bin:"$PATH

# begin lame
wget --quiet https://downloads.sourceforge.net/sourceforge/lame/lame-3.99.5.tar.gz
tar -xf lame-3.99.5.tar.gz
cd lame-3.99.5
./configure --disable-dependency-tracking --disable-debug --prefix="$1" --enable-nasm >/dev/null 2>&1
make install >/dev/null 2>&1

# begin ffmpeg
wget --quiet https://ffmpeg.org/releases/ffmpeg-2.8.1.tar.bz2 
bzip2 -d ffmpeg-2.8.1.tar.bz2
tar -xf ffmpeg-2.8.1.tar
cd ffmpeg-2.8.1
./configure  --prefix="$1" --enable-libmp3lame --extra-cflags="-I$1/include" --extra-ldflags="-L$1/lib" --enable-shared --enable-pthreads --enable-gpl --enable-version3 --enable-hardcoded-tables --enable-avresample >/dev/null 2>&1
make install >/dev/null 2>&1

